<div class="card">
  <div class="card-header">
    <h3 class="card-title">Listado de personas</h3>
  </div>
  <div class="card-body">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="searchTerm">Buscar</label>
        <input
          type="text"
          id="searchTerm"
          class="form-control"
          formControlName="searchTerm"
          autocomplete="off"
        />
      </div>
      <button class="btn btn-primary">Buscar</button>
    </form>

    <table class="table table-bordered">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombres</th>
          <th>Apellidos</th>
          <th>Nombre Completo</th>
          <th>Cédula</th>
          <th>Fecha de Nacimiento</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="loading">
          <td colspan="6" class="text-center">
            <i class="fa fa-spinner fa-spin"></i>
          </td>
        </tr>
        <tr *ngIf="!loading">
          <td
            colspan="6"
            class="text-center"
            *ngIf="personas.length === 0"
          >
            No hay registros
          </td>
        </tr>
        <tr *ngFor="let deudor of personas">
          <td>{{ deudor.id }}</td>
          <td>{{ deudor.nombres }}</td>
          <td>{{ deudor.apellidos }}</td>
          <td>{{ deudor.fullname }}</td>
          <td>{{ deudor.cedula }}</td>
          <td>{{ deudor.nacimiento | date: 'yyyy-MM-dd' }}</td>
          <td>
            <!-- editar editarDeudor -->
            <button
              class="btn btn-primary"
              (click)="mostrarVistaActualizarDeudor(deudor)"
            >
              <i class="fa fa-edit"></i>
            </button>
            <span class="ml-2"></span>
            <!-- eliminar eliminarDeudor -->
            <button
              class="btn btn-danger"
              (click)="eliminarDeudor(deudor)"
            >
              <i class="fa fa-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- agregar boton siguiente anterior -->
    <div class="row" *ngIf="!loading">
      <div class="col-md-6">
        <button class="btn btn-primary" (click)="previousPage()">
          Anterior
        </button>
        <span class="ml-2"></span>
        <button class="btn btn-primary" (click)="nextPage()">Siguiente</button>
      </div>
    </div>
  </div>
</div>
<!-- otro card pero para el fomulario de crear-->
<div class="card" *ngIf="mostrarVistaCrear">
  <div class="card-header">Crear Deudor</div>
  <div class="card-body">
    <form [formGroup]="addForm" (ngSubmit)="createDeudor()">
      <div class="form-group">
        <label for="nombres">Nombres</label>
        <input
          type="text"
          id="nombres"
          class="form-control"
          formControlName="nombres"
        />
      </div>
      <div class="form-group">
        <label for="apellidos">Apellidos</label>
        <input
          type="text"
          id="apellidos"
          class="form-control"
          formControlName="apellidos"
        />
      </div>
      <div class="form-group">
        <label for="cedula">Cédula</label>
        <input
          type="text"
          id="cedula"
          class="form-control"
          formControlName="cedula"
        />
      </div>
      <div class="form-group">
        <label for="nacimiento">Fecha de Nacimiento</label>
        <input
          type="text"
          id="nacimiento"
          class="form-control"
          formControlName="nacimiento"
        />
      </div>
      <button class="btn btn-primary">Guardar</button>
    </form>
  </div>
</div>
<!-- otro formulario para edita -->
<div class="card" *ngIf="mostrarVistaActualizar">
  <div class="card-header">Modificar Deudor</div>
  <div class="card-body">
    <form [formGroup]="updateForm" (ngSubmit)="updateDeudor()">
      <div class="form-group">
        <label for="id">ID</label>
        <input
          type="text"
          id="id"
          class="form-control"
          formControlName="id"
        />
      </div>
      <div class="form-group">
        <label for="nombres">Nombres</label>
        <input
          type="text"
          id="nombres"
          class="form-control"
          formControlName="nombres"
        />
      </div>
      <div class="form-group">
        <label for="apellidos">Apellidos</label>
        <input
          type="text"
          id="apellidos"
          class="form-control"
          formControlName="apellidos"
        />
      </div>
      <div class="form-group">
        <label for="cedula">Cédula</label>
        <input
          type="text"
          id="cedula"
          class="form-control"
          formControlName="cedula"
        />
      </div>
      <div class="form-group">
        <label for="nacimiento">Fecha de Nacimiento</label>
        <input
          type="text"
          id="nacimiento"
          class="form-control"
          formControlName="nacimiento"
        />
      </div>
      <button class="btn btn-primary">Guardar</button>
    </form>
  </div>
</div>


